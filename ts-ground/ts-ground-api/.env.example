# ============================================
# TonyStack Environment Configuration
# ============================================
#
# This is an EXAMPLE file showing all available configuration options.
# 
# ============================================
# TonyStack Environment Configuration (EXAMPLE)
# ============================================
#
# Copy this file to create environment-specific files:
#   cp .env.example .env.development.local
#   cp .env.example .env.test.local
#   cp .env.example .env.production.local
#
# The config system loads based on ENVIRONMENT variable (recommended):
#   ENVIRONMENT=development → loads .env.development.local
#   ENVIRONMENT=test        → loads .env.test.local
#   ENVIRONMENT=production  → loads .env.production.local
#
# Priority: Environment variables > .env.{ENVIRONMENT}.local > .env
#
# ============================================

# Environment
ENVIRONMENT=development

# Server
PORT=8000

# Database
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/tonystack_dev

# CORS - Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Logging (debug, info, warn, error)
LOG_LEVEL=info

# JWT Authentication (only if using --with-auth flag)
# Generate a strong secret: openssl rand -hex 64
JWT_SECRET=change-this-to-random-secret-in-production
JWT_ISSUER=tonystack
JWT_EXPIRY=1h

# ============================================
# User Credentials (REQUIRED)
# ============================================
# Generate secure passwords: openssl rand -base64 32

# Superadmin (required for initial setup)
SUPERADMIN_EMAIL=admin@example.com
SUPERADMIN_PASSWORD=changeme

# Test user (optional - for development/testing)
ALPHA_EMAIL=testuser@example.com
ALPHA_PASSWORD=changeme
ALPHA_USERNAME=Test User

# ============================================
# Email Configuration (SMTP)
# ============================================
# Required for email verification, password reset, and transactional emails.
#
# For Resend (recommended):
#   SMTP_HOST=smtp.resend.com
#   SMTP_PORT=587
#   SMTP_USER=resend
#   SMTP_PASS=re_xxxxxxxxxxxx
#
# For Gmail:
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_USER=your-email@gmail.com
#   SMTP_PASS=your-app-password (not your regular password)
#
# For SendGrid:
#   SMTP_HOST=smtp.sendgrid.net
#   SMTP_PORT=587
#   SMTP_USER=apikey
#   SMTP_PASS=your-sendgrid-api-key
#
SMTP_HOST=smtp.resend.com
SMTP_PORT=587
SMTP_USER=resend
SMTP_PASS=re_xxxxxxxxxxxx
SMTP_SECURE=false
EMAIL_FROM=noreply@example.com
EMAIL_REPLY_TO=support@example.com

# App Info (used in email templates)
APP_NAME=TStack App
APP_URL=http://localhost:8000
STOREFRONT_URL=http://localhost:5173
SUPPORT_EMAIL=support@example.com

# ============================================
# Google OAuth Configuration
# ============================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
#
# Setup steps:
# 1. Go to Google Cloud Console
# 2. Create a new project or select existing
# 3. Enable Google+ API
# 4. Go to APIs & Services > Credentials
# 5. Create OAuth 2.0 Client ID (Web application)
# 6. Add authorized redirect URI: http://localhost:8000/auth/google/callback
# 7. Copy Client ID and Client Secret below
#
GOOGLE_CLIENT_ID=xxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxx
GOOGLE_CALLBACK_URL=http://localhost:8000/auth/google/callback

# ============================================
# S3 Configuration (for product/entity images)
# ============================================
# Required for image uploads. Images are stored with public-read ACL.
#
# Bucket structure: {bucket}/{prefix}/{entityType}/{entityId}/{imageId}.{ext}
# Example: my-bucket/sc/dev/products/abc-123/img-456.jpg
#
# For the bucket to accept public-read ACL:
# 1. Go to S3 bucket > Permissions > Block public access
# 2. Uncheck "Block all public access" or at least "Block public access to buckets and objects granted through new ACLs"
# 3. Save changes
#
# Prefix pattern: {workspace}/{environment}
# Example: sc/dev, sc/prod, my-project/development
#
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=ap-south-1
S3_BUCKET_NAME=your-bucket-name
S3_PREFIX=workspace-name/dev

# ============================================
# Security Notes
# ============================================
# - Never commit .env files with real secrets to git
# - Use strong random secrets in production (e.g., openssl rand -hex 64)
# - Rotate secrets regularly
# - Use different credentials for each environment